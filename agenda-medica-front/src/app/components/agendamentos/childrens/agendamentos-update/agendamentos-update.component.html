<nav-bar>
    <ng-container>
        <h2>Adicionar Agendamentos</h2>

        <form #form="ngForm" (ngSubmit)="update(form)">
            <mat-form-field appearance="fill" class="full-width">
                <mat-label>Título</mat-label>
                <input type="text" matInput name="titulo" [(ngModel)]="agendamento.titulo">
            </mat-form-field>
            <div class="status">
                <mat-form-field appearance="fill">
                    <mat-label>Status</mat-label>
                    <mat-select name="status" [(ngModel)]="agendamento.status">
                        <mat-option *ngFor="let status of statusList" [value]="status.value">{{ status.title }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <mat-form-field appearance="fill" class="full-width">
                <mat-label>Paciente</mat-label>
                <mat-select name="paciente" [(ngModel)]="agendamento.paciente">
                    <mat-option *ngFor="let paciente of pacienteList" [value]="paciente.id">{{ paciente.nome }}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field appearance="fill" class="full-width">
                <mat-label>Médico</mat-label>
                <mat-select name="medico" [(ngModel)]="agendamento.medico">
                    <mat-option *ngFor="let medico of medicoList" [value]="medico.id">{{ medico.nome }}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field appearance="fill" class="full-width">
                <mat-label>Data de Abertura</mat-label>
                <input type="datetime-local" formControlName="horaAbertura" matInput>
            </mat-form-field>

            <mat-form-field appearance="fill" class="full-width">
                <mat-label>Data de Fechamento</mat-label>
                <input type="datetime-local" formControlName="horaFechamento" matInput>
            </mat-form-field>

            <mat-form-field class="full-width" appearance="fill">
                <mat-label>Observações</mat-label>
                <textarea matInput class="observacoes" name="observacoes" [(ngModel)]="agendamento.observacoes"></textarea>
            </mat-form-field>
            
            <button mat-raised-button color="primary">Editar</button>
            <a mat-raised-button color="warn" routerLink="/agendamentos">Cancelar</a>
            
        </form>
    </ng-container>
</nav-bar>